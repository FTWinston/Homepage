(()=>{"use strict";const t=30,n=self;let e=new Uint8Array(900);for(let n=0;n<t;n++)for(let r=0;r<30;r++){const o=0===(4,Math.floor(4*Math.random()))?1:0;e[n+r*t]=o}function r(n,e,r){return e<0||r<0||e>=t||r>=30?0:n[e+r*t]}function o(t,n,e){const o=function(t,n,e){return r(t,n,e-1)+r(t,n,e+1)+r(t,n-1,e)+r(t,n-1,e-1)+r(t,n-1,e+1)+r(t,n+1,e)+r(t,n+1,e-1)+r(t,n+1,e+1)}(t,n,e);return r(t,n,e)?2===o||3===o?1:0:3===o?1:0}setInterval((()=>{const r=new Uint8Array(900);for(let n=0;n<t;n++)for(let s=0;s<30;s++)r[n+s*t]=o(e,n,s);e=r.slice(),n.postMessage({w:t,h:30,d:r},[r.buffer])}),200),onmessage=n=>{const{x:r,y:o}=n.data;e[r+t*o]=1,e[r+t*o-1]=1,e[r+t*o+1]=1}})();