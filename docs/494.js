(()=>{const t=30,n=self;let r=new Uint8Array(900);for(let n=0;n<t;n++)for(let e=0;e<30;e++){const o=0===(4,Math.floor(4*Math.random()))?1:0;r[n+e*t]=o}function e(n,r,e){return r<0||e<0||r>=t||e>=30?0:n[r+e*t]}function o(t,n,r){const o=function(t,n,r){return e(t,n,r-1)+e(t,n,r+1)+e(t,n-1,r)+e(t,n-1,r-1)+e(t,n-1,r+1)+e(t,n+1,r)+e(t,n+1,r-1)+e(t,n+1,r+1)}(t,n,r);return e(t,n,r)?2===o||3===o?1:0:3===o?1:0}setInterval((()=>{const e=new Uint8Array(900);for(let n=0;n<t;n++)for(let f=0;f<30;f++)e[n+f*t]=o(r,n,f);r=e.slice(),n.postMessage({w:t,h:30,d:e},[e.buffer])}),200)})();